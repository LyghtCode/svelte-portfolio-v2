import{S as wc,i as _c,s as Ec,B as np,j as Lt,m as jt,o as $t,p as xc,q as Bl,x as Ft,u as Ht,v as St,ak as Ll,e as o,t as c,k as i,c as p,a as l,g as r,d as a,n as u,b as k,f as e,L as n,D as Tc}from"../../chunks/vendor-dfb9df3e.js";import Ac from"./layout.svelte-b65b887a.js";import{I as tp}from"../../chunks/Image-4d50732f.js";/* empty css                                                      */import"../../chunks/BackTo-f09ad798.js";import"../../chunks/global-164a8ca5.js";import"../../chunks/utils-419e8671.js";import"../../chunks/CornerTitle-3a53cda1.js";import"../../chunks/store-b0ba4c19.js";/* empty css                                                       */function Pc(Ss){let f,g,m,O,d,h,Ms,Mt,Ya,b,Dt,W,Ot,Wt,N,Nt,qt,q,Kt,Ut,Ga,K,Ja,v,Yt,Aa,Gt,Jt,U,Qt,Vt,Y,Xt,Zt,Qa,G,$l=`<code class="language-r">library<span class="token punctuation">(</span>ggplot2<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>ggthemes<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>dplyr<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>ggrepel<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>tools<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>readxl<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>tidyverse<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>knitr<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>shiny<span class="token punctuation">)</span>
library<span class="token punctuation">(</span>plotly<span class="token punctuation">)</span>

theme_set<span class="token punctuation">(</span>theme_minimal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,Va,J,Ds,se,Xa,Os,ae,Za,Ws,ne,sn,w,Ns,te,Q,ee,oe,qs,pe,V,le,ce,X,re,Z,ie,ue,an,ss,Fl=`<code class="language-r">education <span class="token operator">&lt;-</span> read_excel<span class="token punctuation">(</span><span class="token string">"data/education.xlsx"</span><span class="token punctuation">,</span> skip<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
salary <span class="token operator">&lt;-</span> read_excel<span class="token punctuation">(</span><span class="token string">"data/national_M2017_dl.xlsx"</span><span class="token punctuation">)</span>
automation <span class="token operator">&lt;-</span> read_excel<span class="token punctuation">(</span><span class="token string">"data/raw_state_automation_data.xlsx"</span><span class="token punctuation">)</span></code>`,nn,T,ke,as,fe,de,tn,ns,Ks,he,en,Us,me,on,ts,Hl=`<code class="language-r">ui <span class="token operator">&lt;-</span> fluidPage<span class="token punctuation">(</span>

    titlePanel<span class="token punctuation">(</span>
      h1<span class="token punctuation">(</span><span class="token string">"A College Degree Lowers Job Automation Risk"</span><span class="token punctuation">,</span>
        style <span class="token operator">=</span> "font<span class="token operator">-</span>family<span class="token operator">:</span> <span class="token string">'Helvetica Neue'</span><span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span> font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">;</span> line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">;</span>"<span class="token punctuation">)</span><span class="token punctuation">,</span>
      windowTitle <span class="token operator">=</span> <span class="token string">"Find Out If Your Job Will Be Automated"</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span></code>`,pn,Ys,be,ln,es,Sl=`<code class="language-r">mainPanel<span class="token punctuation">(</span>
      fluidRow<span class="token punctuation">(</span>
        div<span class="token punctuation">(</span>
           plotlyOutput<span class="token punctuation">(</span><span class="token string">"plot"</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token string">'600px'</span><span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token string">'850px'</span><span class="token punctuation">)</span>
           <span class="token punctuation">)</span><span class="token punctuation">,</span>align<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           p<span class="token punctuation">(</span><span class="token string">"DATA: FREY &amp; OSBORNE, BUREAU OF LABOR STATISTICS"</span><span class="token punctuation">,</span>
           style <span class="token operator">=</span> "font<span class="token operator">-</span>family<span class="token operator">:</span> <span class="token string">'Helvetica Neue'</span><span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span> font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">;</span> line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">;</span>"<span class="token punctuation">)</span>
           <span class="token punctuation">)</span>

<span class="token punctuation">)</span></code>`,cn,Gs,ve,rn,os,Js,ye,un,A,ge,Pa,we,_e,kn,P,Ee,za,xe,Te,fn,ps,z,Ae,Ia,Pe,ze,dn,_,Ie,Ca,Ce,Re,Ra,Be,Le,hn,ls,Ml=`<code class="language-r">ggplot<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>x<span class="token operator">=</span>probability<span class="token punctuation">,</span> y<span class="token operator">=</span>A_MEDIAN<span class="token punctuation">,</span> size<span class="token operator">=</span>TOT_EMP<span class="token punctuation">,</span> fill<span class="token operator">=</span>typicaled<span class="token punctuation">,</span> text <span class="token operator">=</span> text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
    geom_point<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">,</span> alpha <span class="token operator">=</span> <span class="token number">.97</span><span class="token punctuation">,</span> stroke <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span> <span class="token operator">+</span>
    scale_size<span class="token punctuation">(</span>range <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> guide <span class="token operator">=</span> <span class="token string">'legend'</span><span class="token punctuation">)</span></code>`,mn,Qs,je,bn,cs,Vs,$e,vn,Xs,Fe,yn,I,He,Ba,Se,Me,gn,rs,Dl=`<code class="language-r">data <span class="token percent-operator operator">%>%</span>
    mutate<span class="token punctuation">(</span>text <span class="token operator">=</span> glue<span class="token operator">::</span>glue<span class="token punctuation">(</span><span class="token string">'&lt;span style="font-size:16px;font-weight:bold">&#123;data$occupation&#125;&lt;/span>'</span><span class="token punctuation">,</span>
                             <span class="token string">'&#92;n&lt;b>Number employed:&lt;/b> &#123;scales::comma(data$TOT_EMP)&#125;'</span><span class="token punctuation">,</span>
                             <span class="token string">'&#92;n&lt;b>Computerization prob:&lt;/b> &#123;data$probability&#125;%'</span><span class="token punctuation">,</span>
                             <span class="token string">'&#92;n&lt;b>Education:&lt;/b> &#123;data$typicaled&#125;'</span><span class="token punctuation">,</span>
                             sep <span class="token operator">=</span> <span class="token string">"&#92;n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,wn,C,De,La,Oe,We,_n,is,Zs,Ne,En,R,qe,ja,Ke,Ue,xn,us,Ol=`<code class="language-r">theme<span class="token punctuation">(</span>axis.line.x <span class="token operator">=</span> ggplot2<span class="token operator">::</span>element_blank<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      axis.line.y <span class="token operator">=</span> ggplot2<span class="token operator">::</span>element_blank<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      axis.text <span class="token operator">=</span> element_text<span class="token punctuation">(</span>colour <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,Tn,sa,Ye,An,aa,Ge,Pn,na,Je,zn,ks,Wl=`<code class="language-r">xlab<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span>
ylab<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span>
labs<span class="token punctuation">(</span>size<span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> alpha <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> fill <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span>
scale_y_continuous<span class="token punctuation">(</span>limits <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">240000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   breaks <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">,</span> <span class="token number">40000</span><span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">,</span> <span class="token number">80000</span><span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">,</span> <span class="token number">120000</span><span class="token punctuation">,</span> <span class="token number">140000</span><span class="token punctuation">,</span> <span class="token number">160000</span><span class="token punctuation">,</span> <span class="token number">180000</span><span class="token punctuation">,</span> <span class="token number">200000</span><span class="token punctuation">,</span> <span class="token number">220000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"20K"</span><span class="token punctuation">,</span> <span class="token string">"40K"</span><span class="token punctuation">,</span> <span class="token string">"60K"</span><span class="token punctuation">,</span> <span class="token string">"80K"</span><span class="token punctuation">,</span> <span class="token string">"100K"</span><span class="token punctuation">,</span> <span class="token string">"120K"</span><span class="token punctuation">,</span> <span class="token string">"140K"</span><span class="token punctuation">,</span> <span class="token string">"160K"</span><span class="token punctuation">,</span> <span class="token string">"180K"</span><span class="token punctuation">,</span> <span class="token string">"200K"</span><span class="token punctuation">,</span> <span class="token string">"220K"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
scale_x_continuous<span class="token punctuation">(</span>limits <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   breaks <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token string">"90%"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,In,B,Qe,$a,Ve,Xe,Cn,fs,ta,Ze,Rn,L,so,ds,ao,no,Bn,hs,Nl=`<code class="language-r">colors <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">'No formal educational credential'</span> <span class="token operator">=</span> <span class="token string">'#FA1A48'</span><span class="token punctuation">,</span>
            <span class="token string">'High school diploma or equivalent'</span> <span class="token operator">=</span> <span class="token string">'#F79734'</span><span class="token punctuation">,</span>
            <span class="token string">'Postsecondary nondegree award'</span> <span class="token operator">=</span> <span class="token string">'#FDFF1C'</span><span class="token punctuation">,</span> 
            <span class="token string">"Associate's degree"</span> <span class="token operator">=</span> <span class="token string">'#1DDF50'</span><span class="token punctuation">,</span>
            <span class="token string">"Bachelor's degree"</span> <span class="token operator">=</span> <span class="token string">'#34D19D'</span><span class="token punctuation">,</span> 
            <span class="token string">"Master's degree"</span> <span class="token operator">=</span> <span class="token string">'#1BC0E9'</span><span class="token punctuation">,</span>
            <span class="token string">"Doctoral or professional degree"</span> <span class="token operator">=</span> <span class="token string">'#1B91FF'</span><span class="token punctuation">)</span></code>`,Ln,ea,to,jn,ms,ql=`<code class="language-r">scale_fill_manual<span class="token punctuation">(</span>values <span class="token operator">=</span> colors<span class="token punctuation">,</span> labels <span class="token operator">=</span> 
  c<span class="token punctuation">(</span><span class="token string">'No formal educational credential'</span><span class="token punctuation">,</span> 
    <span class="token string">'High school diploma or equivalent'</span><span class="token punctuation">,</span> 
    <span class="token string">"Some college, no degree"</span><span class="token punctuation">,</span>
    <span class="token string">"Associate's degree"</span><span class="token punctuation">,</span> 
    <span class="token string">"Postsecondary nondegree award"</span><span class="token punctuation">,</span>
    <span class="token string">"Bachelor's degree"</span><span class="token punctuation">,</span>
    <span class="token string">"Master's degree"</span><span class="token punctuation">,</span>
    <span class="token string">"Doctoral or professional degree"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span></code>`,$n,oa,eo,Fn,bs,vs,oo,Fa,po,Hn,j,lo,Ha,co,ro,Sn,ys,Kl='<code class="language-r">geom_segment<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">54000</span><span class="token punctuation">,</span> xend <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> yend <span class="token operator">=</span> <span class="token number">58000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span></code>',Mn,pa,io,Dn,gs,$,uo,Sa,ko,fo,On,E,ho,Ma,mo,bo,Da,vo,yo,Wn,ws,Ul=`<code class="language-r">introPlot <span class="token operator">&lt;-</span> ggplotly<span class="token punctuation">(</span>introggPlot<span class="token punctuation">,</span> tooltip <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">,</span> sort <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span></code>`,Nn,la,go,qn,_s,ca,wo,Kn,F,_o,Oa,Eo,xo,Un,Es,Yl=`<code class="language-r">introPlot <span class="token operator">&lt;-</span> ggplotly<span class="token punctuation">(</span>introggPlot<span class="token punctuation">,</span> tooltip <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">,</span> sort <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
layout<span class="token punctuation">(</span>
  legend <span class="token operator">=</span> list<span class="token punctuation">(</span>orientation <span class="token operator">=</span> <span class="token string">"h"</span><span class="token punctuation">,</span>
              xanchor <span class="token operator">=</span> <span class="token string">"left"</span><span class="token punctuation">,</span>
              x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>
              traceorder <span class="token operator">=</span> <span class="token string">"normal"</span><span class="token punctuation">,</span>
              itemsizing <span class="token operator">=</span> <span class="token string">"constant"</span><span class="token punctuation">,</span>
              tracegroupgap <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
              font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token comment"># ...</span></code>`,Yn,y,To,Wa,Ao,Po,Na,zo,Io,qa,Co,Ro,Gn,xs,ra,Bo,Jn,ia,Lo,Qn,Ts,Gl=`<code class="language-r"> <span class="token comment"># ... Layout continued</span>
yaxis <span class="token operator">=</span> list<span class="token punctuation">(</span>
          tickfont <span class="token operator">=</span> element_blank<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          overlaying <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
          side <span class="token operator">=</span> <span class="token string">"right"</span><span class="token punctuation">,</span>
          title <span class="token operator">=</span> <span class="token string">""</span>
        <span class="token punctuation">)</span></code>`,Vn,As,ua,jo,Xn,H,$o,Ka,Fo,Ho,Zn,Ps,Jl=`<code class="language-r"> <span class="token comment"># ... Layout continued</span>
  font <span class="token operator">=</span> list<span class="token punctuation">(</span>family <span class="token operator">=</span> <span class="token string">'Helvetica Neue'</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  margin <span class="token operator">=</span> list<span class="token punctuation">(</span>r<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>t<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>pad <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  hoverlabel <span class="token operator">=</span> list<span class="token punctuation">(</span>bgcolor <span class="token operator">=</span> <span class="token string">'white'</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'black'</span><span class="token punctuation">)</span></code>`,st,ka,So,at,zs,fa,Mo,nt,da,Do,tt,ha,Oo,et,Is,Ql=`<code class="language-r"><span class="token percent-operator operator">%>%</span> <span class="token comment"># After layout() closes</span>
add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">7500</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Low paid,&#92;nleast vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">7500</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Low paid,&#92;nmost vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">230000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Best paid,&#92;nleast vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">230000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"&lt;b>Best paid,&#92;nmost vulnerable&lt;/b>"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span></code>`,ot,ma,Wo,pt,Cs,Vl=`<code class="language-r">add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> glue<span class="token operator">::</span>glue<span class="token punctuation">(</span>sprintf<span class="token punctuation">(</span><span class="token string">'\u2190'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Least likely to be automated"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">105</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> glue<span class="token operator">::</span>glue<span class="token punctuation">(</span><span class="token string">"Most likely to be automated"</span><span class="token punctuation">,</span> sprintf<span class="token punctuation">(</span><span class="token string">'\u2192'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">243000</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"Average annual wage"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> F
    <span class="token punctuation">)</span></code>`,lt,ba,No,ct,Rs,Xl=`<code class="language-r">add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>probability<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Chief Executives"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      y <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>A_MEDIAN<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Chief Executives"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"Chief Executives"</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
      arrowhead <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      ax <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span>
      ay <span class="token operator">=</span> <span class="token number">25</span>
    <span class="token punctuation">)</span> <span class="token percent-operator operator">%>%</span>
    add_annotations<span class="token punctuation">(</span>
      x <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>probability<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Cashiers"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      y <span class="token operator">=</span> subset<span class="token punctuation">(</span>data<span class="token operator">$</span>A_MEDIAN<span class="token punctuation">,</span> data<span class="token operator">$</span>occupation <span class="token operator">==</span> <span class="token string">"Cashiers"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      text <span class="token operator">=</span> <span class="token string">"Cashiers"</span><span class="token punctuation">,</span>
      xref <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span>
      yref <span class="token operator">=</span> <span class="token string">"y"</span><span class="token punctuation">,</span>
      xanchor <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
      align <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
      font <span class="token operator">=</span> list<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      showarrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
      arrowhead <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      ax <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span>
      ay <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">50</span>
    <span class="token punctuation">)</span></code>`,rt,va,qo,it,Bs,Zl='<code class="language-r">config<span class="token punctuation">(</span>displaylogo <span class="token operator">=</span> F<span class="token punctuation">,</span> showSendToCloud <span class="token operator">=</span> F<span class="token punctuation">,</span> displayModeBar <span class="token operator">=</span> F<span class="token punctuation">)</span></code>',ut,ya,Ko,kt,Ls,sc='<code class="language-r">shinyApp<span class="token punctuation">(</span>ui <span class="token operator">=</span> ui<span class="token punctuation">,</span> server <span class="token operator">=</span> server<span class="token punctuation">)</span></code>',ft,x,Uo,js,Yo,Go,Ua,$s,Jo,Qo,dt,ga,Vo,ht,Fs,mt,wa,Xo,bt,Hs,vt;return K=new tp({props:{alt:"A scatterplot by Bloomberg Graphics, showing automation risk compared to median income.",src:"../images/post/tidy-tuesday-replication/bloomberg.png"}}),Fs=new tp({props:{alt:"A scatterplot by Bloomberg Graphics, showing automation risk compared to median income.",src:"../images/post/tidy-tuesday-replication/bloomberg.png"}}),Hs=new tp({props:{alt:"A scatterplot recreation, showing automation risk compared to median income.",src:"../images/post/tidy-tuesday-replication/replication.png"}}),{c(){f=o("p"),g=c("This weeks\u2019s installment of "),m=o("a"),O=c(`Tidy
Tuesday`),d=c(` is all about replicating
professional plots in R. Inspired by Rafael Irizarry\u2019s post `),h=o("a"),Ms=c(`\u201CYou can
replicate almost any plot with
R\u201D`),Mt=c(`,
the goal is to take otherwise professional publication-ready plots and
make them in R (usually ggplot2).`),Ya=i(),b=o("p"),Dt=c("I was interested in this Tidy Tuesday because some of my "),W=o("a"),Ot=c(`past
work`),Wt=c(` has
been dedicated to creating publication-ready plots. Because `),N=o("a"),Nt=c(`the first
visualization I ever
created`),qt=c(` was inspired
by (a replication of?) `),q=o("a"),Kt=c(`this
visualization`),Ut=c(` from
Bloomberg graphics, I decided to set out on a journey to make that plot
as close as possible to the real thing.`),Ga=i(),Lt(K.$$.fragment),Ja=i(),v=o("p"),Yt=c("The real goal of this week\u2019s Tidy Tuesday is using "),Aa=o("strong"),Gt=c(`the data that
Rafael posted`),Jt=c(` to create other cool visualizations; I took a slightly
different approach to try to recreate another visualization entirely.
What follows is an interactive recreation of the visualization above,
using `),U=o("a"),Qt=c("Shiny"),Vt=c(` and
`),Y=o("a"),Xt=c("plotly"),Zt=c("."),Qa=i(),G=o("pre"),Va=i(),J=o("h1"),Ds=o("a"),se=c("Load and clean data"),Xa=i(),Os=o("p"),ae=c(`First, we read in the data. This process was a bit complicated as I kind
of had to guess where Bloomberg pulled their data from.`),Za=i(),Ws=o("p"),ne=c("I relied on three datasets:"),sn=i(),w=o("ol"),Ns=o("li"),te=c(`Educational attainment broke down by occupation, provided by BLS
`),Q=o("a"),ee=c("here"),oe=i(),qs=o("li"),pe=c(`Salaries, median hourly/annual wages broke down by occupation,
provided by BLS
`),V=o("a"),le=c("here"),ce=i(),X=o("li"),re=c(`Risk of automation broken down by occupation, provided by Carl
Benedikt Frey and Michael A. Osborne (but compiled
`),Z=o("a"),ie=c("here"),ue=c(")"),an=i(),ss=o("pre"),nn=i(),T=o("p"),ke=c("In "),as=o("a"),fe=c("another post"),de=c(`, I
detail the data cleaning process. I\u2019ll spare you the details here.`),tn=i(),ns=o("h1"),Ks=o("a"),he=c("Create the UI"),en=i(),Us=o("p"),me=c(`Now we create the UI, as is the case for any Shiny app. This is pretty
simple: first, we add the title panel and beautify it with some CSS.`),on=i(),ts=o("pre"),pn=i(),Ys=o("p"),be=c(`Next, we add the main panel, which includes a) the plot object, b) the
footnote, and c) some CSS.`),ln=i(),es=o("pre"),cn=i(),Gs=o("p"),ve=c("That\u2019s it!"),rn=i(),os=o("h1"),Js=o("a"),ye=c("Server"),un=i(),A=o("p"),ge=c("Now we can define the "),Pa=o("code"),we=c("server()"),_e=c(` function, where the real magic of this
visualization happens.`),kn=i(),P=o("p"),Ee=c(`All of the following takes place in the
`),za=o("code"),xe=c("server <- function(input, output, session) {}"),Te=c(" function."),fn=i(),ps=o("h2"),z=o("a"),Ae=c("Create a "),Ia=o("code"),Pe=c("ggplot"),ze=c(" object"),dn=i(),_=o("p"),Ie=c(`We know we\u2019re going to need a ggplot object. In my case, we\u2019ll need a
plot object which relies on `),Ca=o("em"),Ce=c("probability, median income,"),Re=c(" and "),Ra=o("em"),Be=c(`risk of
automation`),Le=c("."),hn=i(),ls=o("pre"),mn=i(),Qs=o("p"),je=c("This creates the base of the object."),bn=i(),cs=o("h3"),Vs=o("a"),$e=c("Add a tooltip"),vn=i(),Xs=o("p"),Fe=c(`We also know that, like the Bloomberg visualization we\u2019re replicating,
we\u2019re going to want a tooltip.`),yn=i(),I=o("p"),He=c("That\u2019s why we included "),Ba=o("code"),Se=c("text"),Me=c(" in the above code, which we define here:"),gn=i(),rs=o("pre"),wn=i(),C=o("p"),De=c(`This tooltip takes in some CSS, some HTML, and creates a pretty tooltip!
The `),La=o("code"),Oe=c("glue"),We=c(" function is lovely."),_n=i(),is=o("h3"),Zs=o("a"),Ne=c("Axes and labels"),En=i(),R=o("p"),qe=c(`The Bloomberg visualization is unique in that it has no axis lines. We
can replicate that in `),ja=o("code"),Ke=c("ggplot2"),Ue=c(" via the following code:"),xn=i(),us=o("pre"),Tn=i(),sa=o("p"),Ye=c("But that\u2019s not all!"),An=i(),aa=o("p"),Ge=c(`The Bloomberg visualization is also unique in that it doesn\u2019t have axis
titles. Moreover, the axis labels are a bit unique; the x axis increases
sequentially by 10 until 90 where it transitions into \u201890%\u2019 (the % is
not present in the earlier numbers).`),Pn=i(),na=o("p"),Je=c("We can mimic that kind of styling with this code:"),zn=i(),ks=o("pre"),In=i(),B=o("p"),Qe=c("We create a bit of a buffer on the "),$a=o("code"),Ve=c("limits"),Xe=c(` argument so that we can add
annotations. We\u2019ll get to that later!`),Cn=i(),fs=o("h3"),ta=o("a"),Ze=c("Colors"),Rn=i(),L=o("p"),so=c(`To get as close as possible to Bloomberg\u2019s plot, I\u2019d also like to mimic
their color scheme. I pulled the colors from their dotplot with this
awesome `),ds=o("a"),ao=c(`Chrome
plugin`),no=c(`;
then, I added them to R with the following:`),Bn=i(),hs=o("pre"),Ln=i(),ea=o("p"),to=c("In the plot object, we reference this with the following:"),jn=i(),ms=o("pre"),$n=i(),oa=o("p"),eo=c(`This essentially creates a fill scale (manually) with specified hex
codes for colors. I also tried to manipulate the order of the legend but
that didn\u2019t translate to plotly (a documented problem, I believe).`),Fn=i(),bs=o("h3"),vs=o("a"),oo=c("Final touches for the "),Fa=o("code"),po=c("ggplot"),Hn=i(),j=o("p"),lo=c(`Finally, we do something really hacky: add a regression line with
`),Ha=o("code"),co=c("geom_segment"),ro=c(". (I\u2019m so sorry)"),Sn=i(),ys=o("pre"),Mn=i(),pa=o("p"),io=c(`We now have the ggplot object created; let\u2019s convert it to a plotly
object.`),Dn=i(),gs=o("h2"),$=o("a"),uo=c("Create a "),Sa=o("code"),ko=c("plotly"),fo=c(" object"),On=i(),E=o("p"),ho=c("This process relies on the "),Ma=o("code"),mo=c("ggplotly"),bo=c(` function, which reads in a
previously defined `),Da=o("code"),vo=c("ggplot"),yo=c(` object and converts into an interactive
plotly one.`),Wn=i(),ws=o("pre"),Nn=i(),la=o("p"),go=c(`After creating the base plotly object, we move to some more complicated
steps:`),qn=i(),_s=o("h3"),ca=o("a"),wo=c("Legend orientation"),Kn=i(),F=o("p"),_o=c(`We\u2019d like the legend to orient horizontally, right above the plot. We do
that with the following (inside the `),Oa=o("code"),Eo=c("layout"),xo=c(" function):"),Un=i(),Es=o("pre"),Yn=i(),y=o("p"),To=c(`This does a few things. First, it orients the legend horizontally.
Second, it anchors the legend to the left. Third, it defines the
location (using x-y pairs) of the legend. `),Wa=o("code"),Ao=c("traceorder"),Po=c(` is meant to
maintain the previous order from `),Na=o("code"),zo=c("ggplot"),Io=c(`, but that didn\u2019t work in my
version. `),qa=o("code"),Co=c("itemsizing"),Ro=c(` is meant to keep the legend items with a constant
size, as opposed to dynamic relative to the plot objects themselves.
This also didn\u2019t work. The last two arguments define the spacing between
points and the font size of the legend text!`),Gn=i(),xs=o("h3"),ra=o("a"),Bo=c("Axes Revisited"),Jn=i(),ia=o("p"),Lo=c(`We also see the Bloomberg viz has a right-aligned Y-axis. We can add
that to plotly via the following code:`),Qn=i(),Ts=o("pre"),Vn=i(),As=o("h3"),ua=o("a"),jo=c("Some aesthetic changes"),Xn=i(),H=o("p"),$o=c("Finally, we add three commands to the "),Ka=o("code"),Fo=c("layout"),Ho=c(" function."),Zn=i(),Ps=o("pre"),st=i(),ka=o("p"),So=c(`This a) changes the font of the plot, b) adds a small margin, and c)
stylizes the tooltip on hover.`),at=i(),zs=o("h3"),fa=o("a"),Mo=c("Annotations"),nt=i(),da=o("p"),Do=c(`The last step is to mimic Bloomberg\u2019s annotations. This is a little
tough, specifically because it requires pretty specific x- and y-values.`),tt=i(),ha=o("p"),Oo=c(`First, we\u2019ll add their guiding annotations (that replace axis labels)
that you can find in each corner:`),et=i(),Is=o("pre"),ot=i(),ma=o("p"),Wo=c(`Next, we add annotations for \u2018most and least likely to be automated\u2019, as
well as the y axis label.`),pt=i(),Cs=o("pre"),lt=i(),ba=o("p"),No=c(`And finally, add a couple of plot annotations which label specific
points. (We are not labelling a hundred occupations like Bloomberg did.)`),ct=i(),Rs=o("pre"),rt=i(),va=o("p"),qo=c("Finalize the plotly object with"),it=i(),Bs=o("pre"),ut=i(),ya=o("p"),Ko=c("We\u2019re done! Run the application with the following code:"),kt=i(),Ls=o("pre"),ft=i(),x=o("p"),Uo=c(`And we\u2019re done! Find my interactive visualization
`),js=o("a"),Yo=c("here"),Go=c(`. Find the
code, uninterrupted and (hopefully) reproducible,
`),Ua=o("em"),$s=o("a"),Jo=c("here"),Qo=c("."),dt=i(),ga=o("p"),Vo=c("Here\u2019s the Bloomberg visualization:"),ht=i(),Lt(Fs.$$.fragment),mt=i(),wa=o("p"),Xo=c("And here\u2019s mine:"),bt=i(),Lt(Hs.$$.fragment),this.h()},l(s){f=p(s,"P",{});var t=l(f);g=r(t,"This weeks\u2019s installment of "),m=p(t,"A",{href:!0,rel:!0});var ep=l(m);O=r(ep,`Tidy
Tuesday`),ep.forEach(a),d=r(t,` is all about replicating
professional plots in R. Inspired by Rafael Irizarry\u2019s post `),h=p(t,"A",{href:!0,rel:!0});var op=l(h);Ms=r(op,`\u201CYou can
replicate almost any plot with
R\u201D`),op.forEach(a),Mt=r(t,`,
the goal is to take otherwise professional publication-ready plots and
make them in R (usually ggplot2).`),t.forEach(a),Ya=u(s),b=p(s,"P",{});var S=l(b);Dt=r(S,"I was interested in this Tidy Tuesday because some of my "),W=p(S,"A",{href:!0,rel:!0});var pp=l(W);Ot=r(pp,`past
work`),pp.forEach(a),Wt=r(S,` has
been dedicated to creating publication-ready plots. Because `),N=p(S,"A",{href:!0,rel:!0});var lp=l(N);Nt=r(lp,`the first
visualization I ever
created`),lp.forEach(a),qt=r(S,` was inspired
by (a replication of?) `),q=p(S,"A",{href:!0,rel:!0});var cp=l(q);Kt=r(cp,`this
visualization`),cp.forEach(a),Ut=r(S,` from
Bloomberg graphics, I decided to set out on a journey to make that plot
as close as possible to the real thing.`),S.forEach(a),Ga=u(s),jt(K.$$.fragment,s),Ja=u(s),v=p(s,"P",{});var M=l(v);Yt=r(M,"The real goal of this week\u2019s Tidy Tuesday is using "),Aa=p(M,"STRONG",{});var rp=l(Aa);Gt=r(rp,`the data that
Rafael posted`),rp.forEach(a),Jt=r(M,` to create other cool visualizations; I took a slightly
different approach to try to recreate another visualization entirely.
What follows is an interactive recreation of the visualization above,
using `),U=p(M,"A",{href:!0,rel:!0});var ip=l(U);Qt=r(ip,"Shiny"),ip.forEach(a),Vt=r(M,` and
`),Y=p(M,"A",{href:!0,rel:!0});var up=l(Y);Xt=r(up,"plotly"),up.forEach(a),Zt=r(M,"."),M.forEach(a),Qa=u(s),G=p(s,"PRE",{class:!0});var ac=l(G);ac.forEach(a),Va=u(s),J=p(s,"H1",{id:!0});var kp=l(J);Ds=p(kp,"A",{href:!0});var fp=l(Ds);se=r(fp,"Load and clean data"),fp.forEach(a),kp.forEach(a),Xa=u(s),Os=p(s,"P",{});var dp=l(Os);ae=r(dp,`First, we read in the data. This process was a bit complicated as I kind
of had to guess where Bloomberg pulled their data from.`),dp.forEach(a),Za=u(s),Ws=p(s,"P",{});var hp=l(Ws);ne=r(hp,"I relied on three datasets:"),hp.forEach(a),sn=u(s),w=p(s,"OL",{});var _a=l(w);Ns=p(_a,"LI",{});var Zo=l(Ns);te=r(Zo,`Educational attainment broke down by occupation, provided by BLS
`),Q=p(Zo,"A",{href:!0,rel:!0});var mp=l(Q);ee=r(mp,"here"),mp.forEach(a),Zo.forEach(a),oe=u(_a),qs=p(_a,"LI",{});var sp=l(qs);pe=r(sp,`Salaries, median hourly/annual wages broke down by occupation,
provided by BLS
`),V=p(sp,"A",{href:!0,rel:!0});var bp=l(V);le=r(bp,"here"),bp.forEach(a),sp.forEach(a),ce=u(_a),X=p(_a,"LI",{});var yt=l(X);re=r(yt,`Risk of automation broken down by occupation, provided by Carl
Benedikt Frey and Michael A. Osborne (but compiled
`),Z=p(yt,"A",{href:!0,rel:!0});var vp=l(Z);ie=r(vp,"here"),vp.forEach(a),ue=r(yt,")"),yt.forEach(a),_a.forEach(a),an=u(s),ss=p(s,"PRE",{class:!0});var nc=l(ss);nc.forEach(a),nn=u(s),T=p(s,"P",{});var gt=l(T);ke=r(gt,"In "),as=p(gt,"A",{href:!0,rel:!0});var yp=l(as);fe=r(yp,"another post"),yp.forEach(a),de=r(gt,`, I
detail the data cleaning process. I\u2019ll spare you the details here.`),gt.forEach(a),tn=u(s),ns=p(s,"H1",{id:!0});var gp=l(ns);Ks=p(gp,"A",{href:!0});var wp=l(Ks);he=r(wp,"Create the UI"),wp.forEach(a),gp.forEach(a),en=u(s),Us=p(s,"P",{});var _p=l(Us);me=r(_p,`Now we create the UI, as is the case for any Shiny app. This is pretty
simple: first, we add the title panel and beautify it with some CSS.`),_p.forEach(a),on=u(s),ts=p(s,"PRE",{class:!0});var tc=l(ts);tc.forEach(a),pn=u(s),Ys=p(s,"P",{});var Ep=l(Ys);be=r(Ep,`Next, we add the main panel, which includes a) the plot object, b) the
footnote, and c) some CSS.`),Ep.forEach(a),ln=u(s),es=p(s,"PRE",{class:!0});var ec=l(es);ec.forEach(a),cn=u(s),Gs=p(s,"P",{});var xp=l(Gs);ve=r(xp,"That\u2019s it!"),xp.forEach(a),rn=u(s),os=p(s,"H1",{id:!0});var Tp=l(os);Js=p(Tp,"A",{href:!0});var Ap=l(Js);ye=r(Ap,"Server"),Ap.forEach(a),Tp.forEach(a),un=u(s),A=p(s,"P",{});var wt=l(A);ge=r(wt,"Now we can define the "),Pa=p(wt,"CODE",{});var Pp=l(Pa);we=r(Pp,"server()"),Pp.forEach(a),_e=r(wt,` function, where the real magic of this
visualization happens.`),wt.forEach(a),kn=u(s),P=p(s,"P",{});var _t=l(P);Ee=r(_t,`All of the following takes place in the
`),za=p(_t,"CODE",{});var zp=l(za);xe=r(zp,"server <- function(input, output, session) {}"),zp.forEach(a),Te=r(_t," function."),_t.forEach(a),fn=u(s),ps=p(s,"H2",{id:!0});var Ip=l(ps);z=p(Ip,"A",{href:!0});var Et=l(z);Ae=r(Et,"Create a "),Ia=p(Et,"CODE",{});var Cp=l(Ia);Pe=r(Cp,"ggplot"),Cp.forEach(a),ze=r(Et," object"),Et.forEach(a),Ip.forEach(a),dn=u(s),_=p(s,"P",{});var Ea=l(_);Ie=r(Ea,`We know we\u2019re going to need a ggplot object. In my case, we\u2019ll need a
plot object which relies on `),Ca=p(Ea,"EM",{});var Rp=l(Ca);Ce=r(Rp,"probability, median income,"),Rp.forEach(a),Re=r(Ea," and "),Ra=p(Ea,"EM",{});var Bp=l(Ra);Be=r(Bp,`risk of
automation`),Bp.forEach(a),Le=r(Ea,"."),Ea.forEach(a),hn=u(s),ls=p(s,"PRE",{class:!0});var oc=l(ls);oc.forEach(a),mn=u(s),Qs=p(s,"P",{});var Lp=l(Qs);je=r(Lp,"This creates the base of the object."),Lp.forEach(a),bn=u(s),cs=p(s,"H3",{id:!0});var jp=l(cs);Vs=p(jp,"A",{href:!0});var $p=l(Vs);$e=r($p,"Add a tooltip"),$p.forEach(a),jp.forEach(a),vn=u(s),Xs=p(s,"P",{});var Fp=l(Xs);Fe=r(Fp,`We also know that, like the Bloomberg visualization we\u2019re replicating,
we\u2019re going to want a tooltip.`),Fp.forEach(a),yn=u(s),I=p(s,"P",{});var xt=l(I);He=r(xt,"That\u2019s why we included "),Ba=p(xt,"CODE",{});var Hp=l(Ba);Se=r(Hp,"text"),Hp.forEach(a),Me=r(xt," in the above code, which we define here:"),xt.forEach(a),gn=u(s),rs=p(s,"PRE",{class:!0});var pc=l(rs);pc.forEach(a),wn=u(s),C=p(s,"P",{});var Tt=l(C);De=r(Tt,`This tooltip takes in some CSS, some HTML, and creates a pretty tooltip!
The `),La=p(Tt,"CODE",{});var Sp=l(La);Oe=r(Sp,"glue"),Sp.forEach(a),We=r(Tt," function is lovely."),Tt.forEach(a),_n=u(s),is=p(s,"H3",{id:!0});var Mp=l(is);Zs=p(Mp,"A",{href:!0});var Dp=l(Zs);Ne=r(Dp,"Axes and labels"),Dp.forEach(a),Mp.forEach(a),En=u(s),R=p(s,"P",{});var At=l(R);qe=r(At,`The Bloomberg visualization is unique in that it has no axis lines. We
can replicate that in `),ja=p(At,"CODE",{});var Op=l(ja);Ke=r(Op,"ggplot2"),Op.forEach(a),Ue=r(At," via the following code:"),At.forEach(a),xn=u(s),us=p(s,"PRE",{class:!0});var lc=l(us);lc.forEach(a),Tn=u(s),sa=p(s,"P",{});var Wp=l(sa);Ye=r(Wp,"But that\u2019s not all!"),Wp.forEach(a),An=u(s),aa=p(s,"P",{});var Np=l(aa);Ge=r(Np,`The Bloomberg visualization is also unique in that it doesn\u2019t have axis
titles. Moreover, the axis labels are a bit unique; the x axis increases
sequentially by 10 until 90 where it transitions into \u201890%\u2019 (the % is
not present in the earlier numbers).`),Np.forEach(a),Pn=u(s),na=p(s,"P",{});var qp=l(na);Je=r(qp,"We can mimic that kind of styling with this code:"),qp.forEach(a),zn=u(s),ks=p(s,"PRE",{class:!0});var cc=l(ks);cc.forEach(a),In=u(s),B=p(s,"P",{});var Pt=l(B);Qe=r(Pt,"We create a bit of a buffer on the "),$a=p(Pt,"CODE",{});var Kp=l($a);Ve=r(Kp,"limits"),Kp.forEach(a),Xe=r(Pt,` argument so that we can add
annotations. We\u2019ll get to that later!`),Pt.forEach(a),Cn=u(s),fs=p(s,"H3",{id:!0});var Up=l(fs);ta=p(Up,"A",{href:!0});var Yp=l(ta);Ze=r(Yp,"Colors"),Yp.forEach(a),Up.forEach(a),Rn=u(s),L=p(s,"P",{});var zt=l(L);so=r(zt,`To get as close as possible to Bloomberg\u2019s plot, I\u2019d also like to mimic
their color scheme. I pulled the colors from their dotplot with this
awesome `),ds=p(zt,"A",{href:!0,rel:!0});var Gp=l(ds);ao=r(Gp,`Chrome
plugin`),Gp.forEach(a),no=r(zt,`;
then, I added them to R with the following:`),zt.forEach(a),Bn=u(s),hs=p(s,"PRE",{class:!0});var rc=l(hs);rc.forEach(a),Ln=u(s),ea=p(s,"P",{});var Jp=l(ea);to=r(Jp,"In the plot object, we reference this with the following:"),Jp.forEach(a),jn=u(s),ms=p(s,"PRE",{class:!0});var ic=l(ms);ic.forEach(a),$n=u(s),oa=p(s,"P",{});var Qp=l(oa);eo=r(Qp,`This essentially creates a fill scale (manually) with specified hex
codes for colors. I also tried to manipulate the order of the legend but
that didn\u2019t translate to plotly (a documented problem, I believe).`),Qp.forEach(a),Fn=u(s),bs=p(s,"H3",{id:!0});var Vp=l(bs);vs=p(Vp,"A",{href:!0});var ap=l(vs);oo=r(ap,"Final touches for the "),Fa=p(ap,"CODE",{});var Xp=l(Fa);po=r(Xp,"ggplot"),Xp.forEach(a),ap.forEach(a),Vp.forEach(a),Hn=u(s),j=p(s,"P",{});var It=l(j);lo=r(It,`Finally, we do something really hacky: add a regression line with
`),Ha=p(It,"CODE",{});var Zp=l(Ha);co=r(Zp,"geom_segment"),Zp.forEach(a),ro=r(It,". (I\u2019m so sorry)"),It.forEach(a),Sn=u(s),ys=p(s,"PRE",{class:!0});var uc=l(ys);uc.forEach(a),Mn=u(s),pa=p(s,"P",{});var sl=l(pa);io=r(sl,`We now have the ggplot object created; let\u2019s convert it to a plotly
object.`),sl.forEach(a),Dn=u(s),gs=p(s,"H2",{id:!0});var al=l(gs);$=p(al,"A",{href:!0});var Ct=l($);uo=r(Ct,"Create a "),Sa=p(Ct,"CODE",{});var nl=l(Sa);ko=r(nl,"plotly"),nl.forEach(a),fo=r(Ct," object"),Ct.forEach(a),al.forEach(a),On=u(s),E=p(s,"P",{});var xa=l(E);ho=r(xa,"This process relies on the "),Ma=p(xa,"CODE",{});var tl=l(Ma);mo=r(tl,"ggplotly"),tl.forEach(a),bo=r(xa,` function, which reads in a
previously defined `),Da=p(xa,"CODE",{});var el=l(Da);vo=r(el,"ggplot"),el.forEach(a),yo=r(xa,` object and converts into an interactive
plotly one.`),xa.forEach(a),Wn=u(s),ws=p(s,"PRE",{class:!0});var kc=l(ws);kc.forEach(a),Nn=u(s),la=p(s,"P",{});var ol=l(la);go=r(ol,`After creating the base plotly object, we move to some more complicated
steps:`),ol.forEach(a),qn=u(s),_s=p(s,"H3",{id:!0});var pl=l(_s);ca=p(pl,"A",{href:!0});var ll=l(ca);wo=r(ll,"Legend orientation"),ll.forEach(a),pl.forEach(a),Kn=u(s),F=p(s,"P",{});var Rt=l(F);_o=r(Rt,`We\u2019d like the legend to orient horizontally, right above the plot. We do
that with the following (inside the `),Oa=p(Rt,"CODE",{});var cl=l(Oa);Eo=r(cl,"layout"),cl.forEach(a),xo=r(Rt," function):"),Rt.forEach(a),Un=u(s),Es=p(s,"PRE",{class:!0});var fc=l(Es);fc.forEach(a),Yn=u(s),y=p(s,"P",{});var D=l(y);To=r(D,`This does a few things. First, it orients the legend horizontally.
Second, it anchors the legend to the left. Third, it defines the
location (using x-y pairs) of the legend. `),Wa=p(D,"CODE",{});var rl=l(Wa);Ao=r(rl,"traceorder"),rl.forEach(a),Po=r(D,` is meant to
maintain the previous order from `),Na=p(D,"CODE",{});var il=l(Na);zo=r(il,"ggplot"),il.forEach(a),Io=r(D,`, but that didn\u2019t work in my
version. `),qa=p(D,"CODE",{});var ul=l(qa);Co=r(ul,"itemsizing"),ul.forEach(a),Ro=r(D,` is meant to keep the legend items with a constant
size, as opposed to dynamic relative to the plot objects themselves.
This also didn\u2019t work. The last two arguments define the spacing between
points and the font size of the legend text!`),D.forEach(a),Gn=u(s),xs=p(s,"H3",{id:!0});var kl=l(xs);ra=p(kl,"A",{href:!0});var fl=l(ra);Bo=r(fl,"Axes Revisited"),fl.forEach(a),kl.forEach(a),Jn=u(s),ia=p(s,"P",{});var dl=l(ia);Lo=r(dl,`We also see the Bloomberg viz has a right-aligned Y-axis. We can add
that to plotly via the following code:`),dl.forEach(a),Qn=u(s),Ts=p(s,"PRE",{class:!0});var dc=l(Ts);dc.forEach(a),Vn=u(s),As=p(s,"H3",{id:!0});var hl=l(As);ua=p(hl,"A",{href:!0});var ml=l(ua);jo=r(ml,"Some aesthetic changes"),ml.forEach(a),hl.forEach(a),Xn=u(s),H=p(s,"P",{});var Bt=l(H);$o=r(Bt,"Finally, we add three commands to the "),Ka=p(Bt,"CODE",{});var bl=l(Ka);Fo=r(bl,"layout"),bl.forEach(a),Ho=r(Bt," function."),Bt.forEach(a),Zn=u(s),Ps=p(s,"PRE",{class:!0});var hc=l(Ps);hc.forEach(a),st=u(s),ka=p(s,"P",{});var vl=l(ka);So=r(vl,`This a) changes the font of the plot, b) adds a small margin, and c)
stylizes the tooltip on hover.`),vl.forEach(a),at=u(s),zs=p(s,"H3",{id:!0});var yl=l(zs);fa=p(yl,"A",{href:!0});var gl=l(fa);Mo=r(gl,"Annotations"),gl.forEach(a),yl.forEach(a),nt=u(s),da=p(s,"P",{});var wl=l(da);Do=r(wl,`The last step is to mimic Bloomberg\u2019s annotations. This is a little
tough, specifically because it requires pretty specific x- and y-values.`),wl.forEach(a),tt=u(s),ha=p(s,"P",{});var _l=l(ha);Oo=r(_l,`First, we\u2019ll add their guiding annotations (that replace axis labels)
that you can find in each corner:`),_l.forEach(a),et=u(s),Is=p(s,"PRE",{class:!0});var mc=l(Is);mc.forEach(a),ot=u(s),ma=p(s,"P",{});var El=l(ma);Wo=r(El,`Next, we add annotations for \u2018most and least likely to be automated\u2019, as
well as the y axis label.`),El.forEach(a),pt=u(s),Cs=p(s,"PRE",{class:!0});var bc=l(Cs);bc.forEach(a),lt=u(s),ba=p(s,"P",{});var xl=l(ba);No=r(xl,`And finally, add a couple of plot annotations which label specific
points. (We are not labelling a hundred occupations like Bloomberg did.)`),xl.forEach(a),ct=u(s),Rs=p(s,"PRE",{class:!0});var vc=l(Rs);vc.forEach(a),rt=u(s),va=p(s,"P",{});var Tl=l(va);qo=r(Tl,"Finalize the plotly object with"),Tl.forEach(a),it=u(s),Bs=p(s,"PRE",{class:!0});var yc=l(Bs);yc.forEach(a),ut=u(s),ya=p(s,"P",{});var Al=l(ya);Ko=r(Al,"We\u2019re done! Run the application with the following code:"),Al.forEach(a),kt=u(s),Ls=p(s,"PRE",{class:!0});var gc=l(Ls);gc.forEach(a),ft=u(s),x=p(s,"P",{});var Ta=l(x);Uo=r(Ta,`And we\u2019re done! Find my interactive visualization
`),js=p(Ta,"A",{href:!0,rel:!0});var Pl=l(js);Yo=r(Pl,"here"),Pl.forEach(a),Go=r(Ta,`. Find the
code, uninterrupted and (hopefully) reproducible,
`),Ua=p(Ta,"EM",{});var zl=l(Ua);$s=p(zl,"A",{href:!0,rel:!0});var Il=l($s);Jo=r(Il,"here"),Il.forEach(a),zl.forEach(a),Qo=r(Ta,"."),Ta.forEach(a),dt=u(s),ga=p(s,"P",{});var Cl=l(ga);Vo=r(Cl,"Here\u2019s the Bloomberg visualization:"),Cl.forEach(a),ht=u(s),jt(Fs.$$.fragment,s),mt=u(s),wa=p(s,"P",{});var Rl=l(wa);Xo=r(Rl,"And here\u2019s mine:"),Rl.forEach(a),bt=u(s),jt(Hs.$$.fragment,s),this.h()},h(){k(m,"href","https://t.co/sElb4fcv3u?amp=1"),k(m,"rel","nofollow"),k(h,"href","https://simplystatistics.org/2019/08/28/you-can-replicate-almost-any-plot-with-ggplot2/"),k(h,"rel","nofollow"),k(W,"href","https://connorrothschild.github.io/r/introducing-tpltheme/"),k(W,"rel","nofollow"),k(N,"href","https://connorrothschild.github.io/r/automation/"),k(N,"rel","nofollow"),k(q,"href","https://www.bloomberg.com/graphics/2017-job-risk/"),k(q,"rel","nofollow"),k(U,"href","https://shiny.rstudio.com/"),k(U,"rel","nofollow"),k(Y,"href","https://plot.ly/r/"),k(Y,"rel","nofollow"),k(G,"class","language-r"),k(Ds,"href","#load-and-clean-data"),k(J,"id","load-and-clean-data"),k(Q,"href","https://www.bls.gov/emp/ep_education_training_system.htm"),k(Q,"rel","nofollow"),k(V,"href","https://www.bls.gov/oes/current/oes_nat.htm#11-0000"),k(V,"rel","nofollow"),k(Z,"href","https://data.world/wnedds/occupations-by-state-and-likelihood-of-automation"),k(Z,"rel","nofollow"),k(ss,"class","language-r"),k(as,"href","https://connorrothschild.github.io/r/automation/"),k(as,"rel","nofollow"),k(Ks,"href","#create-the-ui"),k(ns,"id","create-the-ui"),k(ts,"class","language-r"),k(es,"class","language-r"),k(Js,"href","#server"),k(os,"id","server"),k(z,"href","#create-a-ggplot-object"),k(ps,"id","create-a-ggplot-object"),k(ls,"class","language-r"),k(Vs,"href","#add-a-tooltip"),k(cs,"id","add-a-tooltip"),k(rs,"class","language-r"),k(Zs,"href","#axes-and-labels"),k(is,"id","axes-and-labels"),k(us,"class","language-r"),k(ks,"class","language-r"),k(ta,"href","#colors"),k(fs,"id","colors"),k(ds,"href","https://chrome.google.com/webstore/detail/color-picker/ohcpnigalekghcmgcdcenkpelffpdolg"),k(ds,"rel","nofollow"),k(hs,"class","language-r"),k(ms,"class","language-r"),k(vs,"href","#final-touches-for-the-ggplot"),k(bs,"id","final-touches-for-the-ggplot"),k(ys,"class","language-r"),k($,"href","#create-a-plotly-object"),k(gs,"id","create-a-plotly-object"),k(ws,"class","language-r"),k(ca,"href","#legend-orientation"),k(_s,"id","legend-orientation"),k(Es,"class","language-r"),k(ra,"href","#axes-revisited"),k(xs,"id","axes-revisited"),k(Ts,"class","language-r"),k(ua,"href","#some-aesthetic-changes"),k(As,"id","some-aesthetic-changes"),k(Ps,"class","language-r"),k(fa,"href","#annotations"),k(zs,"id","annotations"),k(Is,"class","language-r"),k(Cs,"class","language-r"),k(Rs,"class","language-r"),k(Bs,"class","language-r"),k(Ls,"class","language-r"),k(js,"href","https://connorrothschild.shinyapps.io/2019-12-10/"),k(js,"rel","nofollow"),k($s,"href","https://github.com/connorrothschild/tidytuesday/blob/master/2019-12-10/app.R"),k($s,"rel","nofollow")},m(s,t){e(s,f,t),n(f,g),n(f,m),n(m,O),n(f,d),n(f,h),n(h,Ms),n(f,Mt),e(s,Ya,t),e(s,b,t),n(b,Dt),n(b,W),n(W,Ot),n(b,Wt),n(b,N),n(N,Nt),n(b,qt),n(b,q),n(q,Kt),n(b,Ut),e(s,Ga,t),$t(K,s,t),e(s,Ja,t),e(s,v,t),n(v,Yt),n(v,Aa),n(Aa,Gt),n(v,Jt),n(v,U),n(U,Qt),n(v,Vt),n(v,Y),n(Y,Xt),n(v,Zt),e(s,Qa,t),e(s,G,t),G.innerHTML=$l,e(s,Va,t),e(s,J,t),n(J,Ds),n(Ds,se),e(s,Xa,t),e(s,Os,t),n(Os,ae),e(s,Za,t),e(s,Ws,t),n(Ws,ne),e(s,sn,t),e(s,w,t),n(w,Ns),n(Ns,te),n(Ns,Q),n(Q,ee),n(w,oe),n(w,qs),n(qs,pe),n(qs,V),n(V,le),n(w,ce),n(w,X),n(X,re),n(X,Z),n(Z,ie),n(X,ue),e(s,an,t),e(s,ss,t),ss.innerHTML=Fl,e(s,nn,t),e(s,T,t),n(T,ke),n(T,as),n(as,fe),n(T,de),e(s,tn,t),e(s,ns,t),n(ns,Ks),n(Ks,he),e(s,en,t),e(s,Us,t),n(Us,me),e(s,on,t),e(s,ts,t),ts.innerHTML=Hl,e(s,pn,t),e(s,Ys,t),n(Ys,be),e(s,ln,t),e(s,es,t),es.innerHTML=Sl,e(s,cn,t),e(s,Gs,t),n(Gs,ve),e(s,rn,t),e(s,os,t),n(os,Js),n(Js,ye),e(s,un,t),e(s,A,t),n(A,ge),n(A,Pa),n(Pa,we),n(A,_e),e(s,kn,t),e(s,P,t),n(P,Ee),n(P,za),n(za,xe),n(P,Te),e(s,fn,t),e(s,ps,t),n(ps,z),n(z,Ae),n(z,Ia),n(Ia,Pe),n(z,ze),e(s,dn,t),e(s,_,t),n(_,Ie),n(_,Ca),n(Ca,Ce),n(_,Re),n(_,Ra),n(Ra,Be),n(_,Le),e(s,hn,t),e(s,ls,t),ls.innerHTML=Ml,e(s,mn,t),e(s,Qs,t),n(Qs,je),e(s,bn,t),e(s,cs,t),n(cs,Vs),n(Vs,$e),e(s,vn,t),e(s,Xs,t),n(Xs,Fe),e(s,yn,t),e(s,I,t),n(I,He),n(I,Ba),n(Ba,Se),n(I,Me),e(s,gn,t),e(s,rs,t),rs.innerHTML=Dl,e(s,wn,t),e(s,C,t),n(C,De),n(C,La),n(La,Oe),n(C,We),e(s,_n,t),e(s,is,t),n(is,Zs),n(Zs,Ne),e(s,En,t),e(s,R,t),n(R,qe),n(R,ja),n(ja,Ke),n(R,Ue),e(s,xn,t),e(s,us,t),us.innerHTML=Ol,e(s,Tn,t),e(s,sa,t),n(sa,Ye),e(s,An,t),e(s,aa,t),n(aa,Ge),e(s,Pn,t),e(s,na,t),n(na,Je),e(s,zn,t),e(s,ks,t),ks.innerHTML=Wl,e(s,In,t),e(s,B,t),n(B,Qe),n(B,$a),n($a,Ve),n(B,Xe),e(s,Cn,t),e(s,fs,t),n(fs,ta),n(ta,Ze),e(s,Rn,t),e(s,L,t),n(L,so),n(L,ds),n(ds,ao),n(L,no),e(s,Bn,t),e(s,hs,t),hs.innerHTML=Nl,e(s,Ln,t),e(s,ea,t),n(ea,to),e(s,jn,t),e(s,ms,t),ms.innerHTML=ql,e(s,$n,t),e(s,oa,t),n(oa,eo),e(s,Fn,t),e(s,bs,t),n(bs,vs),n(vs,oo),n(vs,Fa),n(Fa,po),e(s,Hn,t),e(s,j,t),n(j,lo),n(j,Ha),n(Ha,co),n(j,ro),e(s,Sn,t),e(s,ys,t),ys.innerHTML=Kl,e(s,Mn,t),e(s,pa,t),n(pa,io),e(s,Dn,t),e(s,gs,t),n(gs,$),n($,uo),n($,Sa),n(Sa,ko),n($,fo),e(s,On,t),e(s,E,t),n(E,ho),n(E,Ma),n(Ma,mo),n(E,bo),n(E,Da),n(Da,vo),n(E,yo),e(s,Wn,t),e(s,ws,t),ws.innerHTML=Ul,e(s,Nn,t),e(s,la,t),n(la,go),e(s,qn,t),e(s,_s,t),n(_s,ca),n(ca,wo),e(s,Kn,t),e(s,F,t),n(F,_o),n(F,Oa),n(Oa,Eo),n(F,xo),e(s,Un,t),e(s,Es,t),Es.innerHTML=Yl,e(s,Yn,t),e(s,y,t),n(y,To),n(y,Wa),n(Wa,Ao),n(y,Po),n(y,Na),n(Na,zo),n(y,Io),n(y,qa),n(qa,Co),n(y,Ro),e(s,Gn,t),e(s,xs,t),n(xs,ra),n(ra,Bo),e(s,Jn,t),e(s,ia,t),n(ia,Lo),e(s,Qn,t),e(s,Ts,t),Ts.innerHTML=Gl,e(s,Vn,t),e(s,As,t),n(As,ua),n(ua,jo),e(s,Xn,t),e(s,H,t),n(H,$o),n(H,Ka),n(Ka,Fo),n(H,Ho),e(s,Zn,t),e(s,Ps,t),Ps.innerHTML=Jl,e(s,st,t),e(s,ka,t),n(ka,So),e(s,at,t),e(s,zs,t),n(zs,fa),n(fa,Mo),e(s,nt,t),e(s,da,t),n(da,Do),e(s,tt,t),e(s,ha,t),n(ha,Oo),e(s,et,t),e(s,Is,t),Is.innerHTML=Ql,e(s,ot,t),e(s,ma,t),n(ma,Wo),e(s,pt,t),e(s,Cs,t),Cs.innerHTML=Vl,e(s,lt,t),e(s,ba,t),n(ba,No),e(s,ct,t),e(s,Rs,t),Rs.innerHTML=Xl,e(s,rt,t),e(s,va,t),n(va,qo),e(s,it,t),e(s,Bs,t),Bs.innerHTML=Zl,e(s,ut,t),e(s,ya,t),n(ya,Ko),e(s,kt,t),e(s,Ls,t),Ls.innerHTML=sc,e(s,ft,t),e(s,x,t),n(x,Uo),n(x,js),n(js,Yo),n(x,Go),n(x,Ua),n(Ua,$s),n($s,Jo),n(x,Qo),e(s,dt,t),e(s,ga,t),n(ga,Vo),e(s,ht,t),$t(Fs,s,t),e(s,mt,t),e(s,wa,t),n(wa,Xo),e(s,bt,t),$t(Hs,s,t),vt=!0},p:Tc,i(s){vt||(Ft(K.$$.fragment,s),Ft(Fs.$$.fragment,s),Ft(Hs.$$.fragment,s),vt=!0)},o(s){Ht(K.$$.fragment,s),Ht(Fs.$$.fragment,s),Ht(Hs.$$.fragment,s),vt=!1},d(s){s&&a(f),s&&a(Ya),s&&a(b),s&&a(Ga),St(K,s),s&&a(Ja),s&&a(v),s&&a(Qa),s&&a(G),s&&a(Va),s&&a(J),s&&a(Xa),s&&a(Os),s&&a(Za),s&&a(Ws),s&&a(sn),s&&a(w),s&&a(an),s&&a(ss),s&&a(nn),s&&a(T),s&&a(tn),s&&a(ns),s&&a(en),s&&a(Us),s&&a(on),s&&a(ts),s&&a(pn),s&&a(Ys),s&&a(ln),s&&a(es),s&&a(cn),s&&a(Gs),s&&a(rn),s&&a(os),s&&a(un),s&&a(A),s&&a(kn),s&&a(P),s&&a(fn),s&&a(ps),s&&a(dn),s&&a(_),s&&a(hn),s&&a(ls),s&&a(mn),s&&a(Qs),s&&a(bn),s&&a(cs),s&&a(vn),s&&a(Xs),s&&a(yn),s&&a(I),s&&a(gn),s&&a(rs),s&&a(wn),s&&a(C),s&&a(_n),s&&a(is),s&&a(En),s&&a(R),s&&a(xn),s&&a(us),s&&a(Tn),s&&a(sa),s&&a(An),s&&a(aa),s&&a(Pn),s&&a(na),s&&a(zn),s&&a(ks),s&&a(In),s&&a(B),s&&a(Cn),s&&a(fs),s&&a(Rn),s&&a(L),s&&a(Bn),s&&a(hs),s&&a(Ln),s&&a(ea),s&&a(jn),s&&a(ms),s&&a($n),s&&a(oa),s&&a(Fn),s&&a(bs),s&&a(Hn),s&&a(j),s&&a(Sn),s&&a(ys),s&&a(Mn),s&&a(pa),s&&a(Dn),s&&a(gs),s&&a(On),s&&a(E),s&&a(Wn),s&&a(ws),s&&a(Nn),s&&a(la),s&&a(qn),s&&a(_s),s&&a(Kn),s&&a(F),s&&a(Un),s&&a(Es),s&&a(Yn),s&&a(y),s&&a(Gn),s&&a(xs),s&&a(Jn),s&&a(ia),s&&a(Qn),s&&a(Ts),s&&a(Vn),s&&a(As),s&&a(Xn),s&&a(H),s&&a(Zn),s&&a(Ps),s&&a(st),s&&a(ka),s&&a(at),s&&a(zs),s&&a(nt),s&&a(da),s&&a(tt),s&&a(ha),s&&a(et),s&&a(Is),s&&a(ot),s&&a(ma),s&&a(pt),s&&a(Cs),s&&a(lt),s&&a(ba),s&&a(ct),s&&a(Rs),s&&a(rt),s&&a(va),s&&a(it),s&&a(Bs),s&&a(ut),s&&a(ya),s&&a(kt),s&&a(Ls),s&&a(ft),s&&a(x),s&&a(dt),s&&a(ga),s&&a(ht),St(Fs,s),s&&a(mt),s&&a(wa),s&&a(bt),St(Hs,s)}}}function zc(Ss){let f,g;const m=[Ss[0],jl];let O={$$slots:{default:[Pc]},$$scope:{ctx:Ss}};for(let d=0;d<m.length;d+=1)O=np(O,m[d]);return f=new Ac({props:O}),{c(){Lt(f.$$.fragment)},l(d){jt(f.$$.fragment,d)},m(d,h){$t(f,d,h),g=!0},p(d,[h]){const Ms=h&1?xc(m,[h&1&&Bl(d[0]),h&0&&Bl(jl)]):{};h&2&&(Ms.$$scope={dirty:h,ctx:d}),f.$set(Ms)},i(d){g||(Ft(f.$$.fragment,d),g=!0)},o(d){Ht(f.$$.fragment,d),g=!1},d(d){St(f,d)}}}const jl={layout:"blog",title:"Using Shiny to Replicate a Bloomberg Graphic",description:"Leveraging the power of {shiny} for static graphics",date:"2019-12-10",image:"tidy-tuesday-replication/header.png",archived:!0,tags:["r","tutorial"]};function Ic(Ss,f,g){return Ss.$$set=m=>{g(0,f=np(np({},f),Ll(m)))},f=Ll(f),[f]}class Dc extends wc{constructor(f){super();_c(this,f,Ic,zc,Ec,{})}}export{Dc as default,jl as metadata};
